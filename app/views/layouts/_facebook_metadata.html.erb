<% if @parent || request.fullpath.split('/').last == 's' %>
  <meta property="og:title" content="<%= @poll.vote_share_description %>">
  <meta name="description" property="og:description" content="<%= @poll.vote_share_description %>">
  <meta property="og:url" content='<%= "#{ request.protocol }#{ request.host }#{ request.fullpath.split(/\/s(\/|$)/)[0] }/s" %>'>
  <meta property="og:image" content="<%= url_for(@poll.share_image.service_url) if @poll.share_image.attached? %>">
<% elsif @candidate %>
  <% liquid_binding = {'candidate' => @candidate } %>
  <meta property="og:title" content="<%= Liquid::Template.parse(@poll.promote_share_title).render(liquid_binding) %>">
  <meta name="description" property="og:description" content="<%= Liquid::Template.parse(@poll.promote_share_description).render(liquid_binding) %>">
  <meta property="og:url" content='<%= "#{ request.protocol }#{ request.host }#{ request.fullpath }" %>'>
  <meta property="og:image" content="<%= url_for(@poll.share_image.service_url) if @poll.share_image.attached? %>">
<% elsif params['controller'] == 'results' %>
  <meta property="og:title" content="<%= @poll.results_share_title %>">
  <meta name="description" property="og:description" content="<%= @poll.results_share_description %>">
  <meta property="og:url" content='<%= "#{ request.protocol }#{ request.host }#{ request.fullpath }" %>'>
  <meta property="og:image" content="<%= url_for(@poll.share_image.service_url) if @poll.share_image.attached? %>">
<% else %>
  <meta property="og:title" content="<%= @poll.index_share_title %>">
  <meta name="description" property="og:description" content="<%= @poll.index_share_description %>">
  <meta property="og:url" content='<%= "#{ request.protocol }#{ request.host }#{ request.fullpath }" %>'>
  <meta property="og:image" content="<%= url_for(@poll.share_image.service_url) if @poll.share_image.attached? %>">
<% end %>